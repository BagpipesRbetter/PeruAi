<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <title>Peru</title>
    <link rel="shortcut icon" href="{{ url_for('static', filename='img/favicon.ico') }}" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Jura:wght@300..700&display=swap" rel="stylesheet">
<style>
    body {
      
        font-family: "Jura", sans-serif;
        margin: 0;
        padding: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        /*
        background: linear-gradient(270deg, #334050, #5c6673, #858c96, #adb3b9, #d6d9dc);
    background-size: 1000% 1000%;

    -webkit-animation: AnimationName 26s ease infinite;
    -moz-animation: AnimationName 26s ease infinite;
    -o-animation: AnimationName 26s ease infinite;
    animation: AnimationName 26s ease infinite;*/


    background-image: url('../static/img/background.jpg');
            
  
            background-repeat: no-repeat;
            background-size: cover;
            overflow: hidden; /* Prevent scrolling beyond the viewport */
            position: relative; /* Required for absolute positioning */
            width: 100vw; /* Full width of the viewport */
            
}
#background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url('../static/img/background.jpg');
            background-repeat: no-repeat;
            background-size: cover; /* Cover the entire window */
            background-position: center; /* Center the background */
        }

        #overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(255, 255, 255, 0.5); /* Adjust the opacity as needed */
            pointer-events: none; /* Allow clicking through the overlay */
        }

@-webkit-keyframes AnimationName {
    0%{background-position:0% 50%}
    50%{background-position:100% 50%}
    100%{background-position:0% 50%}
}
@-moz-keyframes AnimationName {
    0%{background-position:0% 50%}
    50%{background-position:100% 50%}
    100%{background-position:0% 50%}
}
@-o-keyframes AnimationName {
    0%{background-position:0% 50%}
    50%{background-position:100% 50%}
    100%{background-position:0% 50%}
}
@keyframes AnimationName {
    0%{background-position:0% 50%}
    50%{background-position:100% 50%}
    100%{background-position:0% 50%}
}
    
    .container {
        position: absolute;
        font-family: "Jura", sans-serif;
        background-color: white;
        border-radius: 15px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        padding: 20px;
        text-align: center;
        
    }

    .container1 {
        font-family: "Jura", sans-serif;
        background-color: white;
        border-radius: 15px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        padding: 20px;
        text-align: center;
        
    }

    .textbox-container {

        position: relative;
        margin: 10px;
    }
    .inputbox {font-family: "Jura", sans-serif;
        width: 70vw;
        height: fit-content;
        padding: 10px;
        margin: 10px;
        border: 1px solid #ccc;
        border-radius: 10px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        transition: box-shadow 0.3s;}
    .textbox {
        font-family: "Jura", sans-serif;
        width: 70vw;
        height: 50vh;
        padding: 10px;
        margin: 10px;
        border: 1px solid #ccc;
        border-radius: 10px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        transition: box-shadow 0.3s;
        font-size: 17px;
    }
    .textbox:focus {
        font-family: "Jura", sans-serif;
        outline: none;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }
    .button {
        font-family: "Jura", sans-serif;
        padding: 10px 20px;
        margin: 10px;
        border: none;
        border-radius: 10px;
        background-color: #334050;
        color: white;
        font-size: 16px;
        cursor: pointer;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        transition: box-shadow 0.3s;
    }
    .button:hover {
        font-family: "Jura", sans-serif;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }

    .githublogo {
        position: fixed;
        top: 90vh;
        left: 90vw;
        z-index: 999;
        size: 5px;
    }

    .submit
    {
        font-family: "Jura", sans-serif;
        position: absolute;
        top: 50%;
        right: 15px;
        transform: translateY(-50%);
        padding: 6px 12px;
        border: none;
        border-radius: 5px;
        background-color: #334050;
        color: white;
        font-size: 14px;
        cursor: pointer;
    }

    a {
  color: #fff;
  text-decoration: none;
}

.p-menu1{
    position:absolute;
    top: 0px;
        left: center;
        z-index: 999;
   height: fit-content;
   background-color: #fff;
   border-radius: 15px;
   padding: 20px;
   padding-top: 5px;
   padding-bottom: 5px;
   margin-top: 10px;
   
}




/* Hamburger */
.hamburger1 {
  height: 45px;
  margin: 10px;
  display: -ms-grid;
  display: grid;
  grid-template-rows: repeat(3, 1fr);
  justify-items: center;
  z-index: 120;
}

.hamburger1 div {
  background-color: #334050;
  border-radius: 10px;
  width: 40px;
  height: 5px;
  margin-top: 7px;
  -webkit-transition: all 0.2s ease-in-out;
  transition: all 0.2s ease-in-out;
}

#toggle1 {
  display: none;
}

#toggle1:checked + .hamburger1 .top {
  -webkit-transform: rotate(-45deg);
          transform: rotate(-45deg);
  margin-top: 22.5px;
}

#toggle1:checked + .hamburger1 .meat {
  -webkit-transform: rotate(45deg);
          transform: rotate(45deg);
  margin-top: -5px;
}

#toggle1:checked + .hamburger1 .bottom {
  -webkit-transform: scale(0);
          transform: scale(0);
}

#toggle1:checked ~ .menu1 {
  height: 280px;
}


/* Menu */
.menu1 {
  position:relative;
  border-radius: 10px;
  width: 100%;
  background-color: #334050;
  margin: 0;
  display: -ms-grid;
  display: grid;
  grid-template-rows: 1fr repeat(6, 0.5fr);
  grid-row-gap: 5px;
  padding: 5px;
  list-style: none;
  clear: both;
  width: auto;
  text-align: center;
  height: 0px;
  overflow: hidden;
  transition: height .4s ease;
  z-index: 120;
  -webkit-transition: all 0.3s ease;
  transition: all 0.3s ease;
}

.menu1 a:first-child {
  margin-top: 40px;
}

.menu1 a:last-child {
  margin-bottom: 40px;
}

.link1 {
    color: white;
  width: 100%;
  margin: 0;
  padding: 5px 0;
  font: 700 20px 'Jura', sans-serif;
}

.link1:hover {
  background-color: #fff;
  border-radius: 15px;
  color: #334050;
  -webkit-transition: all 0.3s ease;
  transition: all 0.3s ease;
}



    
</style>

</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.2.0/socket.io.js"></script>
        <script>
            var socket = io.connect('http://127.0.0.0:5003');

            socket.on('response', function(data) {
                
                document.getElementById('chat-box').value += data.data + '';
                
            });

            function sendMessage() {
                var text = document.getElementById('textbox').value;
                socket.emit('message', {'data': text});
                document.getElementById('textbox').value = "";
                return false;
            }
        </script>
</head>
<body>
    <div id="background"> </div>
        <section class="p-menu1">
            <nav id="navbar" class="navigation" role="navigation">
            <input id="toggle1" type="checkbox" />
            <label class="hamburger1" for="toggle1">
                <div class="top"></div>
                <div class="meat"></div>
                <div class="bottom"></div>
            </label>
            
            <nav class="menu1">
                <a class="link1" href="">Github</a>
                <a class="link1" href="">Dark Mode</a>
                <a class="link1" href="">Contact</a>
                <a class="link1" href="">Model</a>
                <a class="link1" href="">Stop Text Generation</a>
            </nav>
        </nav>
        </section>

      <div class="container" id="main-container">
        <h1>PeruAi Chat Bot</h1>
        <textarea class="textbox" id="chat-box" placeholder="answer will be written here..."></textarea>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.2.0/socket.io.js"></script>
          <form method="POST" action="/" onsubmit="sendMessage(); return false;">
            <div class="textbox-container">
            <input type='text' class="inputbox" id="textbox" name="textbox" placeholder="Prompt" id="input"/>
            <input type="submit" class="submit" id="submit" style="width: auto;"/>
            </div>
            
          </form>
    </div>
    <script>
      // Function to update background position based on window position
      function updateBackgroundPosition(left, top) {
          var background = document.getElementById('background');
          var windowX = left / window.screen.width;
          var windowY = top / window.screen.height;

          // Update background position based on window position
          background.style.backgroundPosition = (windowX * 100) + '% ' + (windowY * 100) + '%';
      }

      // Initial update
      updateBackgroundPosition({{ left }}, {{ top }});

      // Update on window resize (optional)
      window.addEventListener('resize', function() {
          var left = window.screenX;
          var top = window.screenY;
          updateBackgroundPosition(left, top);
      });

      // Update on window move (optional)
      window.addEventListener('move', function() {
          var left = window.screenX;
          var top = window.screenY;
          updateBackgroundPosition(left, top);
      });
  </script>
</body>
</html>
